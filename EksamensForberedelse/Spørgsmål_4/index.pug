doctype html
html
    head
        title Express-app 3
        script(src='index.js')
        script.
            //Post metode til funktion. 
            async function post(url, objekt) {
            const respons = await fetch(url, {
            method: "POST",
            body: JSON.stringify(objekt),
            headers: {
            'Content-Type': 'application/json'
            }
            });
            if (respons.status !== 201) // Created
            throw new Error(respons.status);
            return await respons.text();
            }

            let tilføjPerson = async () => {
                var navn = document.getElementById("navn").value;
                var adresse = document.getElementById("adresse").value;
                console.log(navn + adresse)
            try {
                await post("/tilfoejAdresse", {navn: navn , adresse: adresse });
                window.location.href = "/"
            }catch(e){
                console.log("Fejl");
                } 
            }
    


    body
        h1 Spørgsmål 4
        p 
            |Personer i listen: 
            table(border = '1')
                -
                each k in personer
                    tr 
                        td Navn: #{k.navn}
                        td Adresse: #{k.adresse}
        p
            input#navn(type='text' placeholder='Navn')
            input#adresse(type='text' placeholder='Adresse')
            button(onclick= 'tilføjPerson()') Tilføj

            
        
            

